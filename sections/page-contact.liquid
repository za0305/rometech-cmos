{{ 'section-contact-form.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<div class="color-{{ section.settings.color_scheme }} gradient">
  <div class="contact page-width page-width--narrow section-{{ section.id }}-padding">
    {%- if section.settings.heading != blank -%}
      <h2 class="title title-wrapper--no-top-margin inline-richtext {{ section.settings.heading_size }}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
        {{ section.settings.heading }}
      </h2>
    {%- else -%}
      <h2 class="visually-hidden">{{ 'templates.contact.form.title' | t }}</h2>
    {%- endif -%}

    {%- if section.settings.text != blank -%}
      <p class="contact_text">{{ section.settings.text }}</p>
    {%- endif -%}

    {%- liquid
      assign contact_form_class = 'isolate'
      if settings.animations_reveal_on_scroll
        assign contact_form_class = 'isolate scroll-trigger animate--slide-in'
      endif
    -%}
    <div class="contact-wrapper" style="background-image: url({{ 'form-bg.png' |  asset_img_url: '1760x' }});">
      <div class="contact-item">
        <h4 class="contact-item__title">Contact Information</h4>

        {%- if section.settings.contact_text != blank -%}
          <p class="contact-item__text">{{ section.settings.contact_text }}</p>
        {%- endif -%}

        <ul class="contact-item__list">
          {%- if section.settings.contact_phone != blank -%}
            <li>
              <a href="tel:{{ section.settings.contact_phone }}" class="contact-item__link">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                  <path d="M18.6602 9.48102C17.5909 8.09917 15.7083 7.63153 14.0953 8.30266C13.8696 8.39655 13.6338 8.53009 13.3096 8.71373L13.2759 8.7328L13.2574 8.74328L13.2394 8.75453C12.5218 9.20223 12.0508 9.88465 11.7392 10.5718C11.4262 11.2618 11.2441 12.0208 11.1387 12.7187C10.9438 14.0087 10.987 15.267 11.0706 15.789C11.0722 15.8122 11.0744 15.8388 11.0772 15.8689C11.0861 15.9617 11.1019 16.0872 11.1299 16.2468C11.1858 16.5661 11.2906 17.022 11.4865 17.6258C11.878 18.8325 12.6351 20.6342 14.1003 23.1233C15.5662 25.6137 16.8505 27.2795 17.7833 28.3339C18.2497 28.8611 18.6279 29.235 18.8967 29.4825C19.0311 29.6062 19.138 29.6982 19.2149 29.7619C19.2533 29.7938 19.2842 29.8185 19.3072 29.8366L19.3319 29.8558C20.0048 30.3975 21.1297 31.1184 22.3912 31.5697C23.6345 32.0144 25.2144 32.2675 26.6181 31.5495L26.637 31.5398L26.6555 31.5294L26.7038 31.502C27.0188 31.3237 27.2526 31.1914 27.4462 31.0482C28.856 30.0057 29.391 28.1493 28.6998 26.5367C28.6054 26.3162 28.47 26.0863 28.2916 25.7835L28.2629 25.7348L27.9555 25.2124L27.9309 25.1707C27.6207 24.6436 27.3728 24.2224 27.1333 23.904C26.8179 23.4846 26.398 23.2402 26.0764 23.0859C25.6321 22.8726 25.1376 22.7874 24.6977 22.7473C24.2508 22.7066 23.777 22.7066 23.3514 22.7086L23.2413 22.7091C22.8421 22.7112 22.4856 22.713 22.1579 22.693C21.7951 22.6708 21.5499 22.6251 21.394 22.5651C21.3104 22.5329 21.2277 22.4949 21.1461 22.4511C21.0601 22.4049 21.0109 22.3712 20.9799 22.345C20.7209 22.1262 20.043 21.4955 19.4128 20.4249C18.6754 19.1722 18.5752 18.2916 18.5674 18.2114C18.5548 17.9768 18.5777 17.7426 18.6338 17.5143C18.677 17.3383 18.7784 17.099 18.9491 16.7773C19.0675 16.554 19.1964 16.3321 19.3371 16.0899C19.4 15.9815 19.4654 15.869 19.5332 15.7505C19.7405 15.3882 19.9623 14.9839 20.1306 14.5765C20.296 14.176 20.4415 13.6992 20.434 13.1996C20.4306 12.9774 20.4104 12.6607 20.2859 12.3323C20.1267 11.9122 19.8507 11.4435 19.501 10.8497L19.4566 10.7743L19.1488 10.2522L19.1156 10.1957C18.9402 9.89756 18.8061 9.66947 18.6602 9.48102Z" fill="#00E04F"/>
                </svg>
                {{ section.settings.contact_phone }}
              </a>
            </li>
          {%- endif -%}

          {%- if section.settings.contact_email != blank -%}
            <li>
              <a href="mailto:{{ section.settings.contact_email }}" class="contact-item__link">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M27.8162 9.9688C27.1444 9.62649 26.4051 9.47623 25.5198 9.4039C24.6521 9.333 23.5738 9.333 22.205 9.33301L17.3122 9.33301C15.9296 9.33301 14.6489 9.333 13.5796 9.4029C12.5336 9.47128 11.5541 9.61161 10.853 9.9688C9.75541 10.5281 8.86303 11.4205 8.30376 12.5181C7.96145 13.1899 7.81119 13.9292 7.73886 14.8145C7.66796 15.6823 7.66796 16.7605 7.66797 18.1293V20.5367C7.66796 21.9055 7.66796 22.9838 7.73886 23.8515C7.81119 24.7368 7.96145 25.4761 8.30376 26.148C8.86303 27.2456 9.75541 28.138 10.853 28.6972C11.5541 29.0544 12.5336 29.1947 13.5796 29.2631C14.6489 29.333 15.9296 29.333 17.3122 29.333H22.205C23.5738 29.333 24.6521 29.333 25.5198 29.2621C26.4051 29.1898 27.1444 29.0395 27.8162 28.6972C28.9139 28.138 29.8062 27.2456 30.3655 26.148C30.7078 25.4761 30.8581 24.7368 30.9304 23.8515C31.0013 22.9838 31.0013 21.9055 31.0013 20.5367V18.1293C31.0013 16.7605 31.0013 15.6822 30.9304 14.8145C30.8581 13.9292 30.7078 13.1899 30.3655 12.5181C29.8062 11.4205 28.9139 10.5281 27.8162 9.9688ZM12.3913 13.8708C12.6466 13.4878 13.1639 13.3843 13.5469 13.6396L17.0234 15.9573C17.7107 16.4155 18.1715 16.7213 18.5528 16.9197C18.916 17.1086 19.1379 17.1617 19.3346 17.1617C19.5314 17.1617 19.7533 17.1086 20.1165 16.9197C20.4978 16.7213 20.9586 16.4155 21.6459 15.9573L25.1224 13.6396C25.5053 13.3843 26.0227 13.4878 26.278 13.8708C26.5333 14.2537 26.4298 14.7711 26.0469 15.0264L22.5334 17.3687C21.8927 17.7959 21.3568 18.1532 20.8857 18.3982C20.3875 18.6574 19.8948 18.8284 19.3346 18.8284C18.7745 18.8284 18.2818 18.6574 17.7836 18.3982C17.3125 18.1532 16.7766 17.7959 16.1358 17.3687L12.6224 15.0264C12.2394 14.7711 12.136 14.2537 12.3913 13.8708Z" fill="#00E04F"/>
                </svg>
                {{ section.settings.contact_email }}
              </a>
            </li>
          {%- endif -%}

          {%- if section.settings.contact_address != blank -%}
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                <path d="M17.6667 16.5453C17.6667 15.181 18.7377 14.1234 20 14.1234C21.2623 14.1234 22.3333 15.181 22.3333 16.5453C22.3333 17.9096 21.2623 18.9673 20 18.9673C18.7377 18.9673 17.6667 17.9096 17.6667 16.5453Z" fill="#00E04F"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M17.7641 31.3084C18.2412 31.7417 18.6395 32.0886 18.9195 32.328L19.2857 32.7007C19.6778 33.0998 20.3222 33.0998 20.7143 32.7007L21.0805 32.328C21.3605 32.0886 21.7588 31.7417 22.2359 31.3084C23.1887 30.4429 24.4625 29.2266 25.7395 27.8276C27.013 26.4325 28.3102 24.8335 29.2943 23.2025C30.2662 21.5919 31 19.8414 31 18.168C31 12.0187 26.0936 7 20 7C13.9064 7 9 12.0187 9 18.168C9 19.8414 9.73383 21.5919 10.7057 23.2025C11.6898 24.8335 12.987 26.4325 14.2605 27.8276C15.5375 29.2266 16.8113 30.4429 17.7641 31.3084ZM15.6667 16.5453C15.6667 14.1328 17.5804 12.1288 20 12.1288C22.4196 12.1288 24.3333 14.1328 24.3333 16.5453C24.3333 18.9578 22.4196 20.9618 20 20.9618C17.5804 20.9618 15.6667 18.9578 15.6667 16.5453Z" fill="#00E04F"/>
              </svg>
              {{ section.settings.contact_address }}
            </li>
          {%- endif -%}
        </ul>
      </div>

      <div class="contact-item">
        {%- form 'contact', id: 'ContactForm', class: contact_form_class -%}
          {%- if form.posted_successfully? -%}
            <h2 class="form-status form-status-list form__message" tabindex="-1" autofocus>
              {% render 'icon-success' %}
              {{ 'templates.contact.form.post_success' | t }}
            </h2>
          {%- elsif form.errors -%}
            <div class="form__message">
              <h2 class="form-status caption-large text-body" role="alert" tabindex="-1" autofocus>
                {% render 'icon-error' %}
                {{ 'templates.contact.form.error_heading' | t }}
              </h2>
            </div>
            <ul class="form-status-list caption-large" role="list">
              <li>
                <a href="#ContactForm-email" class="link">
                  {{ form.errors.translated_fields.email | capitalize }}
                  {{ form.errors.messages.email }}
                </a>
              </li>
            </ul>
          {%- endif -%}
          <div class="contact__fields">
            <div class="field">
              <label class="field__label" for="ContactForm-name">{{ 'templates.contact.form.name' | t }}</label>
              <input
                class="field__input"
                autocomplete="name"
                type="text"
                id="ContactForm-name"
                name="contact[{{ 'templates.contact.form.name' | t }}]"
                value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
                placeholder="{{ 'templates.contact.form.name_placeholder' | t }}"
                required
              >
            </div>
            <div class="field">
              <label class="field__label" for="ContactForm-last_name">{{ 'templates.contact.form.last_name' | t }}</label>
              <input
                class="field__input"
                autocomplete="name"
                type="text"
                id="ContactForm-last_name"
                name="contact[{{ 'templates.contact.form.last_name' | t }}]"
                value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
                placeholder="{{ 'templates.contact.form.last_name_placeholder' | t }}"
              >
            </div>
            <div class="field field--with-error">
              <label class="field__label" for="ContactForm-email">
                {{- 'templates.contact.form.email' | t }}
                <span aria-hidden="true">*</span></label
              >
              <input
                autocomplete="email"
                type="email"
                id="ContactForm-email"
                class="field__input"
                name="contact[email]"
                spellcheck="false"
                autocapitalize="off"
                value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
                aria-required="true"
                {% if form.errors contains 'email' %}
                  aria-invalid="true"
                  aria-describedby="ContactForm-email-error"
                {% endif %}
                placeholder="{{ 'templates.contact.form.email_placeholder' | t }}"
                required
              >
              {%- if form.errors contains 'email' -%}
                <small class="contact__field-error" id="ContactForm-email-error">
                  <span class="visually-hidden">{{ 'accessibility.error' | t }}</span>
                  <span class="form__message">
                    {%- render 'icon-error' -%}
                    {{- form.errors.translated_fields.email | capitalize }}
                    {{ form.errors.messages.email -}}
                  </span>
                </small>
              {%- endif -%}
            </div>
            <div class="field">
              <label class="field__label" for="ContactForm-phone">{{ 'templates.contact.form.phone' | t }}</label>
              <input
                type="tel"
                id="ContactForm-phone"
                class="field__input"
                autocomplete="tel"
                name="contact[{{ 'templates.contact.form.phone' | t }}]"
                pattern="[0-9\-]*"
                value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}"
                placeholder="{{ 'templates.contact.form.phone_placeholder' | t }}"
              >
            </div>
          </div>
          <div class="field">
            <label class="form__label field__label" for="ContactForm-body">
              {{- 'templates.contact.form.comment' | t -}}
            </label>
            <input
              type="text"
              id="ContactForm-body"
              class="field__input"
              name="contact[{{ 'templates.contact.form.comment' | t }}]"
              placeholder="{{ 'templates.contact.form.comment_placeholder' | t }}"
              required
            >
              {{- form.body -}}
            </input>
          </div>
          <div class="contact__button">
            <button type="submit" class="button">
              {{ 'templates.contact.form.send' | t }}
            </button>
          </div>
        {%- endform -%}
      </div>
    </div>
  </div>
</div>

<script>
  window.addEventListener('load', () => {  
    document.querySelectorAll('input[type="tel"]').forEach((input) => {
      input.addEventListener('input', function (event) {
        let value = event.target.value;
        event.target.value = value.replace(/[^0-9+-]/g, '');
      });
    });
  });
</script>

{% schema %}
{
  "name": "Page Contact",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "inline_richtext",
      "id": "heading",
      "default": "Contact form",
      "label": "Heading"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "t:sections.all.heading_size.options__1.label"
        },
        {
          "value": "h1",
          "label": "t:sections.all.heading_size.options__2.label"
        },
        {
          "value": "h0",
          "label": "t:sections.all.heading_size.options__3.label"
        }
      ],
      "default": "h1",
      "label": "t:sections.all.heading_size.label"
    },
    {
      "type": "text",
      "id": "text",
      "default": "Any question, returns or concerns? Just write us a message!",
      "label": "Text"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Contact information"
    },
    {
      "type": "text",
      "id": "contact_text",
      "default": "Fill out the form and our team will get back to you within 1 business day",
      "label": "Contact Text"
    },
    {
      "type": "text",
      "id": "contact_phone",
      "default": "856-336-8157",
      "label": "Contact Phone"
    },
    {
      "type": "text",
      "id": "contact_email",
      "default": "support@rometechcases.com",
      "label": "Contact Email"
    },
    {
      "type": "text",
      "id": "contact_address",
      "default": "141-i Route 130 S Suite 307 Cinnaminson, NJ 08077",
      "label": "Contact Address"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "presets": [
    {
      "name": "Page Contact"
    }
  ]
}
{% endschema %}
